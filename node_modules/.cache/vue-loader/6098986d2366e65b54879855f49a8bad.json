{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vue-element-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vue-element-admin-master\\src\\components\\page\\BaseTable.vue?vue&type=style&index=0&id=31c7c926&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vue-element-admin-master\\src\\components\\page\\BaseTable.vue","mtime":1557223914000},{"path":"C:\\Users\\Administrator\\Desktop\\vue-element-admin-master\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vue-element-admin-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vue-element-admin-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vue-element-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vue-element-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.handle-box {\n    margin-bottom: 20px;\n}\n\n.handle-select {\n    width: 120px;\n}\n\n.handle-input {\n    width: 300px;\n    display: inline-block;\n}\n.del-dialog-cnt{\n    font-size: 16px;\n    text-align: center\n}\n.table{\n    width: 100%;\n    font-size: 14px;\n}\n.red{\n    color: #ff0000;\n}\n.mr10{\n    margin-right: 10px;\n}\n",{"version":3,"sources":["BaseTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4LA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BaseTable.vue","sourceRoot":"src\\components\\page","sourcesContent":["<template>\n    <div class=\"table\">\n        <div class=\"crumbs\">\n            <el-breadcrumb separator=\"/\">\n                <el-breadcrumb-item><i class=\"el-icon-lx-cascades\"></i> 基础表格</el-breadcrumb-item>\n            </el-breadcrumb>\n        </div>\n        <div class=\"container\">\n            <div class=\"handle-box\">\n                <el-button type=\"primary\" icon=\"delete\" class=\"handle-del mr10\" @click=\"delAll\">批量删除</el-button>\n                <el-select v-model=\"select_cate\" placeholder=\"筛选省份\" class=\"handle-select mr10\">\n                    <el-option key=\"1\" label=\"广东省\" value=\"广东省\"></el-option>\n                    <el-option key=\"2\" label=\"湖南省\" value=\"湖南省\"></el-option>\n                </el-select>\n                <el-input v-model=\"select_word\" placeholder=\"筛选关键词\" class=\"handle-input mr10\"></el-input>\n                <el-button type=\"primary\" icon=\"search\" @click=\"search\">搜索</el-button>\n            </div>\n            <el-table :data=\"data\" border class=\"table\" ref=\"multipleTable\" @selection-change=\"handleSelectionChange\">\n                <el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column>\n                <el-table-column prop=\"date\" label=\"日期\" sortable width=\"150\">\n                </el-table-column>\n                <el-table-column prop=\"name\" label=\"姓名\" width=\"120\">\n                </el-table-column>\n                <el-table-column prop=\"address\" label=\"地址\" :formatter=\"formatter\">\n                </el-table-column>\n                <el-table-column label=\"操作\" width=\"180\" align=\"center\">\n                    <template slot-scope=\"scope\">\n                        <el-button type=\"text\" icon=\"el-icon-edit\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n                        <el-button type=\"text\" icon=\"el-icon-delete\" class=\"red\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <div class=\"pagination\">\n                <el-pagination background @current-change=\"handleCurrentChange\" layout=\"prev, pager, next\" :total=\"1000\">\n                </el-pagination>\n            </div>\n        </div>\n\n        <!-- 编辑弹出框 -->\n        <el-dialog v-dialogDrag title=\"编辑\" :visible.sync=\"editVisible\" width=\"30%\">\n            <el-form ref=\"form\" :model=\"form\" label-width=\"50px\">\n                <el-form-item label=\"日期\">\n                    <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"form.date\" value-format=\"yyyy-MM-dd\" style=\"width: 100%;\"></el-date-picker>\n                </el-form-item>\n                <el-form-item label=\"姓名\">\n                    <el-input v-model=\"form.name\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"地址\">\n                    <el-input v-model=\"form.address\"></el-input>\n                </el-form-item>\n\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"editVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\n            </span>\n        </el-dialog>\n\n        <!-- 删除提示框 -->\n        <el-dialog title=\"提示\" :visible.sync=\"delVisible\" width=\"300px\" center>\n            <div class=\"del-dialog-cnt\">删除不可恢复，是否确定删除？</div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"delVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"deleteRow\">确 定</el-button>\n            </span>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'basetable',\n        data() {\n            return {\n                url: './vuetable.json',\n                tableData: [],\n                cur_page: 1,\n                multipleSelection: [],\n                select_cate: '',\n                select_word: '',\n                del_list: [],\n                is_search: false,\n                editVisible: false,\n                delVisible: false,\n                form: {\n                    name: '',\n                    date: '',\n                    address: ''\n                },\n                idx: -1\n            }\n        },\n        created() {\n            this.getData();\n        },\n        computed: {\n            data() {\n                return this.tableData.filter((d) => {\n                    let is_del = false;\n                    for (let i = 0; i < this.del_list.length; i++) {\n                        if (d.name === this.del_list[i].name) {\n                            is_del = true;\n                            break;\n                        }\n                    }\n                    if (!is_del) {\n                        if (d.address.indexOf(this.select_cate) > -1 &&\n                            (d.name.indexOf(this.select_word) > -1 ||\n                                d.address.indexOf(this.select_word) > -1)\n                        ) {\n                            return d;\n                        }\n                    }\n                })\n            }\n        },\n        methods: {\n            // 分页导航\n            handleCurrentChange(val) {\n                this.cur_page = val;\n                this.getData();\n            },\n            // 获取 easy-mock 的模拟数据\n            getData() {\n                // 开发环境使用 easy-mock 数据，正式环境使用 json 文件\n                if (process.env.NODE_ENV === 'development') {\n                    this.url = '/ms/table/list';\n                };\n                this.$axios.post(this.url, {\n                    page: this.cur_page\n                }).then((res) => {\n                    this.tableData = res.data.list;\n                })\n            },\n            search() {\n                this.is_search = true;\n            },\n            formatter(row, column) {\n                return row.address;\n            },\n            filterTag(value, row) {\n                return row.tag === value;\n            },\n            handleEdit(index, row) {\n                this.idx = index;\n                const item = this.tableData[index];\n                this.form = {\n                    name: item.name,\n                    date: item.date,\n                    address: item.address\n                }\n                this.editVisible = true;\n            },\n            handleDelete(index, row) {\n                this.idx = index;\n                this.delVisible = true;\n            },\n            delAll() {\n                const length = this.multipleSelection.length;\n                let str = '';\n                this.del_list = this.del_list.concat(this.multipleSelection);\n                for (let i = 0; i < length; i++) {\n                    str += this.multipleSelection[i].name + ' ';\n                }\n                this.$message.error('删除了' + str);\n                this.multipleSelection = [];\n            },\n            handleSelectionChange(val) {\n                this.multipleSelection = val;\n            },\n            // 保存编辑\n            saveEdit() {\n                this.$set(this.tableData, this.idx, this.form);\n                this.editVisible = false;\n                this.$message.success(`修改第 ${this.idx+1} 行成功`);\n            },\n            // 确定删除\n            deleteRow(){\n                this.tableData.splice(this.idx, 1);\n                this.$message.success('删除成功');\n                this.delVisible = false;\n            }\n        }\n    }\n\n</script>\n\n<style scoped>\n    .handle-box {\n        margin-bottom: 20px;\n    }\n\n    .handle-select {\n        width: 120px;\n    }\n\n    .handle-input {\n        width: 300px;\n        display: inline-block;\n    }\n    .del-dialog-cnt{\n        font-size: 16px;\n        text-align: center\n    }\n    .table{\n        width: 100%;\n        font-size: 14px;\n    }\n    .red{\n        color: #ff0000;\n    }\n    .mr10{\n        margin-right: 10px;\n    }\n</style>\n"]}]}